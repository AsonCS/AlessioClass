<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Aula 6 - Hashing Array</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<style>
#body {
	width: 90vw;
	margin: auto;
	margin-top: 3vh;
}
#table {
	border: solid 2px darkred;
	text-align: center;
}
</style>
</head>
<body>
<div id="body" class="container-fluid">

<form action="#" id="formulario" onsubmit="if (!(todoCodigo() == true)) return false;">
	<input hidden type="submit" value="Testar" />
	
	<div class="alert alert-secondary" role="alert">
		<label><b>Valor da lista entre</b>: &nbsp;&nbsp;<input type="number" name="value_a" /></label><br/>
		<label><b>E</b>: &nbsp;&nbsp;<input type="number" name="value_b" /></label>
	</div>
	
	<div class="alert alert-secondary" role="alert">
		<label><b>Posição do elemento</b>: &nbsp;&nbsp;<input type="number" name="value_c" min="2" /></label>
	</div>
	
	<div id="result" class="alert alert-success" role="alert">
		<p id="result" ></p>
	</div>

</form>

<script>
	function todoCodigo(){
		
		var form = document.getElementById("formulario");
		var result = document.getElementById("result");
		var primeNumbers = [];
		var temp;
		
		for(var i = 2; i < parseInt(form.value_b.value); i++){
			temp = -1
			primeNumbers.forEach((element, index, array) => {
                if(i % element == 0){
					temp = 0
				}
			})
			if(temp == -1){
				primeNumbers.push(i)
			}
		}
		
		primeNumbers = primeNumbers.filter((value) => {
            return value > parseInt(form.value_a.value);
        })
		
		var primesString = primeNumbers
        .reduce((accumulator, currentValue) => {
            return accumulator + " - " + currentValue;
        })
        
        var meanString = (primeNumbers
        .reduce((accumulator, currentValue) => {
            return accumulator + currentValue;
        }) / primeNumbers.length)
        
        primeNumbers[0] = meanString;
        
        var primesString2 = primeNumbers
        .reduce((accumulator, currentValue) => {
            return accumulator + " - " + currentValue;
        })
        
        var posicao = parseInt(form.value_c.value) - 1 >= primeNumbers.length ? primeNumbers.length - 1 : parseInt(form.value_c.value) - 1
        
        var hashValue = primeNumbers[posicao] % primeNumbers.length
        
        primeNumbers[primeNumbers.length - 1] = primeNumbers[hashValue]
        
        var primesString3 = primeNumbers
        .reduce((accumulator, currentValue) => {
            return accumulator + " - " + currentValue;
        })
		
		result.innerHTML = "Array original: " + primesString  + "<br/><br/>Média: " + meanString + "<br/><br/>Array com média: " + primesString2 + "<br/><br/>Resto da divisão: " + hashValue + "<br/><br/>Array final: " + primesString3 + "<br/><br/>"
		// */
		
		
	}
</script>
</div>
</body>
</html>
